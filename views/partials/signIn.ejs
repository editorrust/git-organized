<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="css/partials/signIn.css">
<div class="signin-modal">
   <div class="signin-modal-inner">
      <h2>Sign In</h2>
      <p class="signin-text">Welcome back!</p>
      <form action="enter-account" method="POST" id="signin-from-homepage" class="pb-12">
         <input class="input-text" type="text" name="name" placeholder="Name" required><br>
         <input class="input-text" type="password" name="pscd" placeholder="Password" required><br>
         <input class="input-submit bg-gradient-to-br from-amber-400 to-orange-400 px-5 py-3 my-2.5 text-white text-lg font-nunito font-semibold rounded-xl" type="submit" value="Enter Account">
      </form>
   </div>
</div>

<script>
document.querySelector("#signin-from-homepage").addEventListener("submit", (event) => {
   let form = event.target;
   event.preventDefault();

   $.ajax({
      type: "POST",
      url: "/enter-account",
      data: {
         name: form.name.value,
         pscd: form.pscd.value
      },
      dataType: "html",
      encode: true,
   }).done(function(data){
      document.querySelector(".signin-text").textContent = data;
      if (data == "Successful signin!") { location.reload(); }
   }).fail(function(data, status, err) {
      console.log("Error:", err);
   });
});
</script>